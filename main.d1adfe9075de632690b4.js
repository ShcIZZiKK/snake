!function(){"use strict";var t={489:function(t,e,n){var i=n(537),o=n.n(i),r=n(645),s=n.n(r),a=n(667),c=n.n(a),h=new URL(n(181),n.b),l=new URL(n(805),n.b),u=s()(o()),p=c()(h),d=c()(l);u.push([t.id,'/*! normalize.css v8.0.1 | MIT License | github.com/necolas/normalize.css */html{line-height:1.15;-webkit-text-size-adjust:100%}body{margin:0}main{display:block}h1{font-size:2em;margin:0.67em 0}hr{box-sizing:content-box;height:0;overflow:visible}pre{font-family:monospace, monospace;font-size:1em}a{background-color:transparent}abbr[title]{border-bottom:none;text-decoration:underline;text-decoration:underline dotted}b,strong{font-weight:bolder}code,kbd,samp{font-family:monospace, monospace;font-size:1em}small{font-size:80%}sub,sup{font-size:75%;line-height:0;position:relative;vertical-align:baseline}sub{bottom:-0.25em}sup{top:-0.5em}img{border-style:none}button,input,optgroup,select,textarea{font-family:inherit;font-size:100%;line-height:1.15;margin:0}button,input{overflow:visible}button,select{text-transform:none}button,[type="button"],[type="reset"],[type="submit"]{-webkit-appearance:button}button::-moz-focus-inner,[type="button"]::-moz-focus-inner,[type="reset"]::-moz-focus-inner,[type="submit"]::-moz-focus-inner{border-style:none;padding:0}button:-moz-focusring,[type="button"]:-moz-focusring,[type="reset"]:-moz-focusring,[type="submit"]:-moz-focusring{outline:1px dotted ButtonText}fieldset{padding:0.35em 0.75em 0.625em}legend{box-sizing:border-box;color:inherit;display:table;max-width:100%;padding:0;white-space:normal}progress{vertical-align:baseline}textarea{overflow:auto}[type="checkbox"],[type="radio"]{box-sizing:border-box;padding:0}[type="number"]::-webkit-inner-spin-button,[type="number"]::-webkit-outer-spin-button{height:auto}[type="search"]{-webkit-appearance:textfield;outline-offset:-2px}[type="search"]::-webkit-search-decoration{-webkit-appearance:none}::-webkit-file-upload-button{-webkit-appearance:button;font:inherit}details{display:block}summary{display:list-item}template{display:none}[hidden]{display:none}@font-face{font-family:"Pixeboy";src:url('+p+') format("truetype")}*{box-sizing:border-box}body{font-family:"Pixeboy", sans-serif;background:black;display:flex;align-items:center;justify-content:center;color:white}canvas{position:absolute;left:110px;top:66px;border:1px solid rgba(255,255,255,0.5);display:none}canvas.is-active{display:block}button{border:none;outline:none;background-color:white;position:relative;display:block;padding:10px 10px;color:black;width:100%;text-transform:uppercase;font-size:32px;line-height:1;z-index:2}button:before,button:after{content:"";display:block;position:absolute;top:10px;height:calc(100% - 20px);left:-10px;right:-10px;background:white;z-index:-1}button:after{top:4px;height:calc(100% - 8px);left:-6px;right:-6px}.container{height:100vh;width:100vw;display:flex;align-items:center;justify-content:center}.game-container{position:relative;width:1020px;height:630px;min-width:1020px;min-height:630px}.game-container:before{position:absolute;content:"";top:0;left:0;width:100%;height:100%;background-image:url('+d+');background-position:center;background-size:contain;background-repeat:no-repeat;z-index:10}.game-ui{position:absolute;top:0;left:0;width:100%;height:100%}.game-menu{position:absolute;left:80px;top:80px;width:680px;display:none}.game-menu.is-active{display:block}.game-menu button{text-align:left;padding-left:30px;background-color:black;color:white}.game-menu button.is-active{background-color:white;color:black}.game-menu button:before,.game-menu button:after{display:none}.game-status{position:absolute;left:110px;top:130px;width:440px;text-align:center;font-size:100px;line-height:1;display:none}.game-status.is-active{display:block}.game-status__actions{display:flex;flex-direction:column;align-items:center}.game-status__actions button{width:150px;margin-top:20px}.game-status__actions button.is-active{background-color:greenyellow}.game-status__actions button.is-active:before,.game-status__actions button.is-active:after{background-color:greenyellow}.game-status__actions button.is-active span{background-color:white}.game-status__score{color:yellow;font-size:52px}.game-score{position:absolute;top:80px;left:580px;display:none}.game-score.is-active{display:block}.game-score .game-score__item{font-size:32px;line-height:1}.game-score .game-score__item:not(:first-child){margin-top:20px}.game-score .game-score__item span{color:yellow}.game-tv-mask{position:absolute;width:680px;height:500px;top:40px;left:80px;z-index:3}.game-tv-mask:after{content:"";position:absolute;top:0;left:0;width:100%;height:100%;background:radial-gradient(rgba(0,0,0,0.2) 50%, transparent 100%),linear-gradient(rgba(0,0,0,0.1) 10%, transparent)}.game-tv-mask .game-tv-mask__noise{position:relative;width:100%;height:100%;overflow:hidden;border-radius:5% / 50%}.game-tv-mask .game-tv-mask__effect{position:absolute;width:100%;height:100%}.game-tv-mask .game-tv-mask__effect:before{content:"";position:absolute;width:100%;height:20%;background:rgba(255,255,255,0.2);animation:noiseeffect 4000ms infinite linear;border-radius:50% / 5%}.game-tv-mask .game-tv-mask__effect:after{content:"";position:absolute;width:100%;height:100%;background:radial-gradient(transparent 50%, rgba(0,0,0,0.8)),linear-gradient(rgba(255,255,255,0.4) 10%, transparent);box-shadow:inset 0 5px 25px rgba(255,255,255,0.2),inset 5px 0 15px rgba(255,255,255,0.2),inset -5px 0 15px rgba(255,255,255,0.1),0 0 10px #000,inset 0 200px 5px rgba(255,255,255,0.05);border-radius:50% / 5%}.game-helper{position:absolute;right:10px;top:20px;padding:30px 20px 20px;width:180px;margin:0;z-index:20;box-shadow:0 1px 2px rgba(0,0,0,0.6);font-family:sans-serif;transform:rotate(-5deg);background:#f6f8d3;background:linear-gradient(90deg, #f6f8d3 0%, #f0f39c 100%)}.game-helper:before{content:"";display:block;position:absolute;left:50%;top:-15px;width:75px;height:25px;transform:translateX(-50%) rotate(2deg);z-index:2;background-color:rgba(243,245,228,0.5);border:2px solid rgba(255,255,255,0.5);box-shadow:2px 2px 2px rgba(0,0,0,0.1)}.game-helper li{list-style:none;margin:0;color:black;font-weight:bold;font-size:14px;text-transform:uppercase;white-space:nowrap}.game-helper li:nth-child(even){color:#940000;margin-bottom:10px;text-transform:none}.game-helper li:last-child{margin-bottom:0}@keyframes noiseeffect{0%{top:-20%;opacity:0}20%{opacity:0}50%{opacity:0.8}80%{opacity:0}100%{top:100%;opacity:0}}\n',"",{version:3,sources:["webpack://./node_modules/normalize.css/normalize.css","webpack://./src/styles/fonts.scss","webpack://./src/styles/app.scss"],names:[],mappings:"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",sourcesContent:['/*! normalize.css v8.0.1 | MIT License | github.com/necolas/normalize.css */\n\n/* Document\n   ========================================================================== */\n\n/**\n * 1. Correct the line height in all browsers.\n * 2. Prevent adjustments of font size after orientation changes in iOS.\n */\n\nhtml {\n  line-height: 1.15; /* 1 */\n  -webkit-text-size-adjust: 100%; /* 2 */\n}\n\n/* Sections\n   ========================================================================== */\n\n/**\n * Remove the margin in all browsers.\n */\n\nbody {\n  margin: 0;\n}\n\n/**\n * Render the `main` element consistently in IE.\n */\n\nmain {\n  display: block;\n}\n\n/**\n * Correct the font size and margin on `h1` elements within `section` and\n * `article` contexts in Chrome, Firefox, and Safari.\n */\n\nh1 {\n  font-size: 2em;\n  margin: 0.67em 0;\n}\n\n/* Grouping content\n   ========================================================================== */\n\n/**\n * 1. Add the correct box sizing in Firefox.\n * 2. Show the overflow in Edge and IE.\n */\n\nhr {\n  box-sizing: content-box; /* 1 */\n  height: 0; /* 1 */\n  overflow: visible; /* 2 */\n}\n\n/**\n * 1. Correct the inheritance and scaling of font size in all browsers.\n * 2. Correct the odd `em` font sizing in all browsers.\n */\n\npre {\n  font-family: monospace, monospace; /* 1 */\n  font-size: 1em; /* 2 */\n}\n\n/* Text-level semantics\n   ========================================================================== */\n\n/**\n * Remove the gray background on active links in IE 10.\n */\n\na {\n  background-color: transparent;\n}\n\n/**\n * 1. Remove the bottom border in Chrome 57-\n * 2. Add the correct text decoration in Chrome, Edge, IE, Opera, and Safari.\n */\n\nabbr[title] {\n  border-bottom: none; /* 1 */\n  text-decoration: underline; /* 2 */\n  text-decoration: underline dotted; /* 2 */\n}\n\n/**\n * Add the correct font weight in Chrome, Edge, and Safari.\n */\n\nb,\nstrong {\n  font-weight: bolder;\n}\n\n/**\n * 1. Correct the inheritance and scaling of font size in all browsers.\n * 2. Correct the odd `em` font sizing in all browsers.\n */\n\ncode,\nkbd,\nsamp {\n  font-family: monospace, monospace; /* 1 */\n  font-size: 1em; /* 2 */\n}\n\n/**\n * Add the correct font size in all browsers.\n */\n\nsmall {\n  font-size: 80%;\n}\n\n/**\n * Prevent `sub` and `sup` elements from affecting the line height in\n * all browsers.\n */\n\nsub,\nsup {\n  font-size: 75%;\n  line-height: 0;\n  position: relative;\n  vertical-align: baseline;\n}\n\nsub {\n  bottom: -0.25em;\n}\n\nsup {\n  top: -0.5em;\n}\n\n/* Embedded content\n   ========================================================================== */\n\n/**\n * Remove the border on images inside links in IE 10.\n */\n\nimg {\n  border-style: none;\n}\n\n/* Forms\n   ========================================================================== */\n\n/**\n * 1. Change the font styles in all browsers.\n * 2. Remove the margin in Firefox and Safari.\n */\n\nbutton,\ninput,\noptgroup,\nselect,\ntextarea {\n  font-family: inherit; /* 1 */\n  font-size: 100%; /* 1 */\n  line-height: 1.15; /* 1 */\n  margin: 0; /* 2 */\n}\n\n/**\n * Show the overflow in IE.\n * 1. Show the overflow in Edge.\n */\n\nbutton,\ninput { /* 1 */\n  overflow: visible;\n}\n\n/**\n * Remove the inheritance of text transform in Edge, Firefox, and IE.\n * 1. Remove the inheritance of text transform in Firefox.\n */\n\nbutton,\nselect { /* 1 */\n  text-transform: none;\n}\n\n/**\n * Correct the inability to style clickable types in iOS and Safari.\n */\n\nbutton,\n[type="button"],\n[type="reset"],\n[type="submit"] {\n  -webkit-appearance: button;\n}\n\n/**\n * Remove the inner border and padding in Firefox.\n */\n\nbutton::-moz-focus-inner,\n[type="button"]::-moz-focus-inner,\n[type="reset"]::-moz-focus-inner,\n[type="submit"]::-moz-focus-inner {\n  border-style: none;\n  padding: 0;\n}\n\n/**\n * Restore the focus styles unset by the previous rule.\n */\n\nbutton:-moz-focusring,\n[type="button"]:-moz-focusring,\n[type="reset"]:-moz-focusring,\n[type="submit"]:-moz-focusring {\n  outline: 1px dotted ButtonText;\n}\n\n/**\n * Correct the padding in Firefox.\n */\n\nfieldset {\n  padding: 0.35em 0.75em 0.625em;\n}\n\n/**\n * 1. Correct the text wrapping in Edge and IE.\n * 2. Correct the color inheritance from `fieldset` elements in IE.\n * 3. Remove the padding so developers are not caught out when they zero out\n *    `fieldset` elements in all browsers.\n */\n\nlegend {\n  box-sizing: border-box; /* 1 */\n  color: inherit; /* 2 */\n  display: table; /* 1 */\n  max-width: 100%; /* 1 */\n  padding: 0; /* 3 */\n  white-space: normal; /* 1 */\n}\n\n/**\n * Add the correct vertical alignment in Chrome, Firefox, and Opera.\n */\n\nprogress {\n  vertical-align: baseline;\n}\n\n/**\n * Remove the default vertical scrollbar in IE 10+.\n */\n\ntextarea {\n  overflow: auto;\n}\n\n/**\n * 1. Add the correct box sizing in IE 10.\n * 2. Remove the padding in IE 10.\n */\n\n[type="checkbox"],\n[type="radio"] {\n  box-sizing: border-box; /* 1 */\n  padding: 0; /* 2 */\n}\n\n/**\n * Correct the cursor style of increment and decrement buttons in Chrome.\n */\n\n[type="number"]::-webkit-inner-spin-button,\n[type="number"]::-webkit-outer-spin-button {\n  height: auto;\n}\n\n/**\n * 1. Correct the odd appearance in Chrome and Safari.\n * 2. Correct the outline style in Safari.\n */\n\n[type="search"] {\n  -webkit-appearance: textfield; /* 1 */\n  outline-offset: -2px; /* 2 */\n}\n\n/**\n * Remove the inner padding in Chrome and Safari on macOS.\n */\n\n[type="search"]::-webkit-search-decoration {\n  -webkit-appearance: none;\n}\n\n/**\n * 1. Correct the inability to style clickable types in iOS and Safari.\n * 2. Change font properties to `inherit` in Safari.\n */\n\n::-webkit-file-upload-button {\n  -webkit-appearance: button; /* 1 */\n  font: inherit; /* 2 */\n}\n\n/* Interactive\n   ========================================================================== */\n\n/*\n * Add the correct display in Edge, IE 10+, and Firefox.\n */\n\ndetails {\n  display: block;\n}\n\n/*\n * Add the correct display in all browsers.\n */\n\nsummary {\n  display: list-item;\n}\n\n/* Misc\n   ========================================================================== */\n\n/**\n * Add the correct display in IE 10+.\n */\n\ntemplate {\n  display: none;\n}\n\n/**\n * Add the correct display in IE 10.\n */\n\n[hidden] {\n  display: none;\n}\n','@font-face {\r\n    font-family: "Pixeboy";\r\n    src: url("../assets/fonts/Pixeboy.ttf") format("truetype");\r\n}\r\n','@import "~normalize.css";\r\n\r\n@import "fonts";\r\n\r\n* {\r\n    box-sizing: border-box;\r\n}\r\n\r\nbody {\r\n    font-family: "Pixeboy", sans-serif;\r\n    background: black;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n    color: white;\r\n}\r\n\r\ncanvas {\r\n    position: absolute;\r\n    left: 110px;\r\n    top: 66px;\r\n    border: 1px solid rgba(255, 255, 255, 0.5);\r\n    display: none;\r\n\r\n    &.is-active {\r\n        display: block;\r\n    }\r\n}\r\n\r\nbutton {\r\n    border: none;\r\n    outline: none;\r\n    background-color: white;\r\n    position: relative;\r\n    display: block;\r\n    padding: 10px 10px;\r\n    color: black;\r\n    width: 100%;\r\n    text-transform: uppercase;\r\n    font-size: 32px;\r\n    line-height: 1;\r\n    z-index: 2;\r\n\r\n    &:before,\r\n    &:after {\r\n        content: "";\r\n        display: block;\r\n        position: absolute;\r\n        top: 10px;\r\n        height: calc(100% - 20px);\r\n        left: -10px;\r\n        right: -10px;\r\n        background: white;\r\n        z-index: -1;\r\n    }\r\n\r\n    &:after {\r\n        top: 4px;\r\n        height: calc(100% - 8px);\r\n        left: -6px;\r\n        right: -6px;\r\n    }\r\n}\r\n\r\n.container {\r\n    height: 100vh;\r\n    width: 100vw;\r\n    display: flex;\r\n    align-items: center;\r\n    justify-content: center;\r\n}\r\n\r\n.game-container {\r\n    position: relative;\r\n    width: 1020px;\r\n    height: 630px;\r\n    min-width: 1020px;\r\n    min-height: 630px;\r\n\r\n    &:before {\r\n        position: absolute;\r\n        content: "";\r\n        top: 0;\r\n        left: 0;\r\n        width: 100%;\r\n        height: 100%;\r\n        background-image: url("../assets/images/tv.png");\r\n        background-position: center;\r\n        background-size: contain;\r\n        background-repeat: no-repeat;\r\n        z-index: 10;\r\n    }\r\n}\r\n\r\n.game-ui {\r\n    position: absolute;\r\n    top: 0;\r\n    left: 0;\r\n    width: 100%;\r\n    height: 100%;\r\n}\r\n\r\n.game-menu {\r\n    position: absolute;\r\n    left: 80px;\r\n    top: 80px;\r\n    width: 680px;\r\n    display: none;\r\n\r\n    &.is-active {\r\n        display: block;\r\n    }\r\n\r\n    button {\r\n        text-align: left;\r\n        padding-left: 30px;\r\n        background-color: black;\r\n        color: white;\r\n\r\n        &.is-active {\r\n            background-color: white;\r\n            color: black;\r\n        }\r\n\r\n        &:before,\r\n        &:after {\r\n            display: none;\r\n        }\r\n    }\r\n}\r\n\r\n.game-status {\r\n    position: absolute;\r\n    left: 110px;\r\n    top: 130px;\r\n    width: 440px;\r\n    text-align: center;\r\n    font-size: 100px;\r\n    line-height: 1;\r\n    display: none;\r\n\r\n    &.is-active {\r\n        display: block;\r\n    }\r\n}\r\n\r\n.game-status__actions {\r\n    display: flex;\r\n    flex-direction: column;\r\n    align-items: center;\r\n\r\n    button {\r\n        width: 150px;\r\n        margin-top: 20px;\r\n\r\n        &.is-active {\r\n            background-color: greenyellow;\r\n\r\n            &:before,\r\n            &:after {\r\n                background-color: greenyellow;\r\n            }\r\n\r\n            span {\r\n                background-color: white;\r\n            }\r\n        }\r\n    }\r\n}\r\n\r\n.game-status__score {\r\n    color: yellow;\r\n    font-size: 52px;\r\n}\r\n\r\n.game-score {\r\n    position: absolute;\r\n    top: 80px;\r\n    left: 580px;\r\n    display: none;\r\n\r\n    &.is-active {\r\n        display: block;\r\n    }\r\n\r\n    .game-score__item {\r\n        font-size: 32px;\r\n        line-height: 1;\r\n\r\n        &:not(:first-child) {\r\n            margin-top: 20px;\r\n        }\r\n\r\n        span {\r\n            color: yellow;\r\n        }\r\n    }\r\n}\r\n\r\n.game-tv-mask {\r\n    position: absolute;\r\n    width: 680px;\r\n    height: 500px;\r\n    top: 40px;\r\n    left: 80px;\r\n    z-index: 3;\r\n\r\n    &:after {\r\n        content: "";\r\n        position: absolute;\r\n        top: 0;\r\n        left: 0;\r\n        width: 100%;\r\n        height: 100%;\r\n        background: radial-gradient(rgba(0, 0, 0, 0.2) 50%, transparent 100%),\r\n            linear-gradient(rgba(0, 0, 0, 0.1) 10%, transparent);\r\n    }\r\n\r\n    .game-tv-mask__noise {\r\n        position: relative;\r\n        width: 100%;\r\n        height: 100%;\r\n        overflow: hidden;\r\n        border-radius: 5% / 50%;\r\n    }\r\n\r\n    .game-tv-mask__effect {\r\n        position: absolute;\r\n        width: 100%;\r\n        height: 100%;\r\n\r\n        &:before {\r\n            content: "";\r\n            position: absolute;\r\n            width: 100%;\r\n            height: 20%;\r\n            background: rgba(255, 255, 255, 0.2);\r\n            animation: noiseeffect 4000ms infinite linear;\r\n            border-radius: 50% / 5%;\r\n        }\r\n\r\n        &:after {\r\n            content: "";\r\n            position: absolute;\r\n            width: 100%;\r\n            height: 100%;\r\n            background: radial-gradient(transparent 50%, rgba(0, 0, 0, 0.8)),\r\n                linear-gradient(rgba(255, 255, 255, 0.4) 10%, transparent);\r\n            box-shadow: inset 0 5px 25px rgba(255, 255, 255, 0.2),\r\n                inset 5px 0 15px rgba(255, 255, 255, 0.2),\r\n                inset -5px 0 15px rgba(255, 255, 255, 0.1), 0 0 10px rgba(0, 0, 0, 1),\r\n                inset 0 200px 5px rgba(255, 255, 255, 0.05);\r\n            border-radius: 50% / 5%;\r\n        }\r\n    }\r\n}\r\n\r\n.game-helper {\r\n    position: absolute;\r\n    right: 10px;\r\n    top: 20px;\r\n    padding: 30px 20px 20px;\r\n    width: 180px;\r\n    margin: 0;\r\n    z-index: 20;\r\n    box-shadow: 0 1px 2px rgba(0, 0, 0, 0.6);\r\n    font-family: sans-serif;\r\n    transform: rotate(-5deg);\r\n    background: rgb(246, 248, 211);\r\n    background: linear-gradient(90deg, rgba(246, 248, 211, 1) 0%, rgba(240, 243, 156, 1) 100%);\r\n\r\n    &:before {\r\n        content: "";\r\n        display: block;\r\n        position: absolute;\r\n        left: 50%;\r\n        top: -15px;\r\n        width: 75px;\r\n        height: 25px;\r\n        transform: translateX(-50%) rotate(2deg);\r\n        z-index: 2;\r\n        background-color: rgba(243, 245, 228, 0.5);\r\n        border: 2px solid rgba(255, 255, 255, 0.5);\r\n        box-shadow: 2px 2px 2px rgba(0, 0, 0, 0.1);\r\n    }\r\n\r\n    li {\r\n        list-style: none;\r\n        margin: 0;\r\n        color: black;\r\n        font-weight: bold;\r\n        font-size: 14px;\r\n        text-transform: uppercase;\r\n        white-space: nowrap;\r\n\r\n        &:nth-child(even) {\r\n            color: #940000;\r\n            margin-bottom: 10px;\r\n            text-transform: none;\r\n        }\r\n\r\n        &:last-child {\r\n            margin-bottom: 0;\r\n        }\r\n    }\r\n}\r\n\r\n@keyframes noiseeffect {\r\n    0% {\r\n        top: -20%;\r\n        opacity: 0;\r\n    }\r\n\r\n    20% {\r\n        opacity: 0;\r\n    }\r\n\r\n    50% {\r\n        opacity: 0.8;\r\n    }\r\n\r\n    80% {\r\n        opacity: 0;\r\n    }\r\n\r\n    100% {\r\n        top: 100%;\r\n        opacity: 0;\r\n    }\r\n}\r\n'],sourceRoot:""}]),e.Z=u},645:function(t){t.exports=function(t){var e=[];return e.toString=function(){return this.map((function(e){var n="",i=void 0!==e[5];return e[4]&&(n+="@supports (".concat(e[4],") {")),e[2]&&(n+="@media ".concat(e[2]," {")),i&&(n+="@layer".concat(e[5].length>0?" ".concat(e[5]):""," {")),n+=t(e),i&&(n+="}"),e[2]&&(n+="}"),e[4]&&(n+="}"),n})).join("")},e.i=function(t,n,i,o,r){"string"==typeof t&&(t=[[null,t,void 0]]);var s={};if(i)for(var a=0;a<this.length;a++){var c=this[a][0];null!=c&&(s[c]=!0)}for(var h=0;h<t.length;h++){var l=[].concat(t[h]);i&&s[l[0]]||(void 0!==r&&(void 0===l[5]||(l[1]="@layer".concat(l[5].length>0?" ".concat(l[5]):""," {").concat(l[1],"}")),l[5]=r),n&&(l[2]?(l[1]="@media ".concat(l[2]," {").concat(l[1],"}"),l[2]=n):l[2]=n),o&&(l[4]?(l[1]="@supports (".concat(l[4],") {").concat(l[1],"}"),l[4]=o):l[4]="".concat(o)),e.push(l))}},e}},667:function(t){t.exports=function(t,e){return e||(e={}),t?(t=String(t.__esModule?t.default:t),/^['"].*['"]$/.test(t)&&(t=t.slice(1,-1)),e.hash&&(t+=e.hash),/["'() \t\n]|(%20)/.test(t)||e.needQuotes?'"'.concat(t.replace(/"/g,'\\"').replace(/\n/g,"\\n"),'"'):t):t}},537:function(t){t.exports=function(t){var e=t[1],n=t[3];if(!n)return e;if("function"==typeof btoa){var i=btoa(unescape(encodeURIComponent(JSON.stringify(n)))),o="sourceMappingURL=data:application/json;charset=utf-8;base64,".concat(i),r="/*# ".concat(o," */");return[e].concat([r]).join("\n")}return[e].join("\n")}},379:function(t){var e=[];function n(t){for(var n=-1,i=0;i<e.length;i++)if(e[i].identifier===t){n=i;break}return n}function i(t,i){for(var r={},s=[],a=0;a<t.length;a++){var c=t[a],h=i.base?c[0]+i.base:c[0],l=r[h]||0,u="".concat(h," ").concat(l);r[h]=l+1;var p=n(u),d={css:c[1],media:c[2],sourceMap:c[3],supports:c[4],layer:c[5]};if(-1!==p)e[p].references++,e[p].updater(d);else{var f=o(d,i);i.byIndex=a,e.splice(a,0,{identifier:u,updater:f,references:1})}s.push(u)}return s}function o(t,e){var n=e.domAPI(e);return n.update(t),function(e){if(e){if(e.css===t.css&&e.media===t.media&&e.sourceMap===t.sourceMap&&e.supports===t.supports&&e.layer===t.layer)return;n.update(t=e)}else n.remove()}}t.exports=function(t,o){var r=i(t=t||[],o=o||{});return function(t){t=t||[];for(var s=0;s<r.length;s++){var a=n(r[s]);e[a].references--}for(var c=i(t,o),h=0;h<r.length;h++){var l=n(r[h]);0===e[l].references&&(e[l].updater(),e.splice(l,1))}r=c}}},569:function(t){var e={};t.exports=function(t,n){var i=function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(t){n=null}e[t]=n}return e[t]}(t);if(!i)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");i.appendChild(n)}},216:function(t){t.exports=function(t){var e=document.createElement("style");return t.setAttributes(e,t.attributes),t.insert(e,t.options),e}},565:function(t,e,n){t.exports=function(t){var e=n.nc;e&&t.setAttribute("nonce",e)}},795:function(t){t.exports=function(t){var e=t.insertStyleElement(t);return{update:function(n){!function(t,e,n){var i="";n.supports&&(i+="@supports (".concat(n.supports,") {")),n.media&&(i+="@media ".concat(n.media," {"));var o=void 0!==n.layer;o&&(i+="@layer".concat(n.layer.length>0?" ".concat(n.layer):""," {")),i+=n.css,o&&(i+="}"),n.media&&(i+="}"),n.supports&&(i+="}");var r=n.sourceMap;r&&"undefined"!=typeof btoa&&(i+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(r))))," */")),e.styleTagTransform(i,t,e.options)}(e,t,n)},remove:function(){!function(t){if(null===t.parentNode)return!1;t.parentNode.removeChild(t)}(e)}}}},589:function(t){t.exports=function(t,e){if(e.styleSheet)e.styleSheet.cssText=t;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(t))}}},181:function(t,e,n){t.exports=n.p+"143c9dc71d2a56d4bc46.ttf"},805:function(t,e,n){t.exports=n.p+"7a2442bab9345d7dffbe.png"}},e={};function n(i){var o=e[i];if(void 0!==o)return o.exports;var r=e[i]={id:i,exports:{}};return t[i](r,r.exports,n),r.exports}n.m=t,n.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return n.d(e,{a:e}),e},n.d=function(t,e){for(var i in e)n.o(e,i)&&!n.o(t,i)&&Object.defineProperty(t,i,{enumerable:!0,get:e[i]})},n.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},n.p="/web-games/",n.b=document.baseURI||self.location.href,n.nc=void 0,function(){var t=n(379),e=n.n(t),i=n(795),o=n.n(i),r=n(569),s=n.n(r),a=n(565),c=n.n(a),h=n(216),l=n.n(h),u=n(589),p=n.n(u),d=n(489),f={};f.styleTagTransform=p(),f.setAttributes=c(),f.insert=s().bind(null,"head"),f.domAPI=o(),f.insertStyleElement=l(),e()(d.Z,f),d.Z&&d.Z.locals&&d.Z.locals;var A,g=function(t,e,n){if(n||2===arguments.length)for(var i,o=0,r=e.length;o<r;o++)!i&&o in e||(i||(i=Array.prototype.slice.call(e,0,o)),i[o]=e[o]);return t.concat(i||Array.prototype.slice.call(e))},m=function(){function t(){this.dir="assets/audio/",this.sounds=[]}return t.prototype.addMusicList=function(t){var e=this;t.forEach((function(t){e.sounds.find((function(e){return e.name===t.name}))||(t.manager=e.createAudioManager(t.file,t.loop,t.volume))})),this.sounds=g(g([],this.sounds,!0),t,!0)},t.prototype.musicPlay=function(t){var e=this.findMusic(t);e&&e.manager.play()},t.prototype.musicStop=function(t){var e=this.findMusic(t);e&&(e.manager.pause(),e.manager.currentTime=0)},t.prototype.findMusic=function(t){return this.sounds.find((function(e){return e.name===t}))},t.prototype.createAudioManager=function(t,e,n){var i=new Audio;return i.src="".concat(this.dir).concat(t),e&&(i.loop=!0),n&&(i.volume=.3),i},t}(),C=function(){function t(){}return t.getInstance=function(){return t.instance||(t.instance=new t),t.instance},t.prototype.subscribe=function(e,n){t.channels[e]||(t.channels[e]=[]),t.channels[e].push({context:this,callback:n})},t.prototype.unsubscribe=function(e){return!!t.channels[e]&&(delete t.channels[e],this)},t.prototype.publish=function(e){for(var n=[],i=1;i<arguments.length;i++)n[i-1]=arguments[i];if(!t.channels[e])return!1;var o=Array.prototype.slice.call(n,0);return t.channels[e].forEach((function(t){t.callback.apply(t.context,o)})),this},t.channels={},t}(),y=C,b=function(){function t(){}return t.getRandomInt=function(t,e){return Math.floor(Math.random()*(e-t))+t},t.getFilledZeroText=function(t){void 0===t&&(t="");var e="000000",n=t.length;return"".concat(e.substring(0,e.length-n)).concat(t)},t}(),v=y.getInstance(),x=function(){function t(){this.uiActiveClass="is-active",this.init()}return t.getInstance=function(){return t.instance||(t.instance=new t),t.instance},t.prototype.init=function(){this.audioManager=new m,this.uiManagerMenu=new w(this.audioManager,this.uiActiveClass),this.uiManagerScore=new B,this.uiManagerResult=new k(this.audioManager,this.uiActiveClass),this.uiManagerHelper=new S},t.prototype.setMenuItems=function(t,e){this.uiManagerMenu.createMenuButtons(t,e)},t.prototype.setScoreItems=function(t,e){this.uiManagerScore.setBlocks(t,e)},t.prototype.setResultBlocks=function(t){this.uiManagerResult.setBlocks(t)},t.prototype.setResult=function(t,e){this.uiManagerResult.updateResult(t,e)},t.prototype.playMusic=function(){this.uiManagerMenu.playMusic()},t.prototype.setHelperBlock=function(t){this.uiManagerHelper.setWrapper(t)},t.prototype.updateHelperList=function(t){this.uiManagerHelper.updateHelperList(t)},t.prototype.setDefaultHelperList=function(){this.uiManagerHelper.setDefaultList()},t}(),w=function(){function t(t,e){this.menuButtons=[],this.activeIndex=0,this.activeClass=e,this.initAudioManager(t),this.bindEvents()}return t.prototype.createMenuButtons=function(t,e){var n=this;t&&e.length&&e.forEach((function(e,i){var o=document.createElement("button"),r=document.createTextNode(e);o.appendChild(r),0===i&&(o.className=n.activeClass,n.activeIndex=0),t.appendChild(o),n.menuButtons.push(o)}))},t.prototype.playMusic=function(){this.audioManager&&this.audioManager.musicPlay("menu")},t.prototype.initAudioManager=function(t){this.audioManager=t,this.audioManager.addMusicList([{name:"menu",file:"menu.mp3",loop:!0,volume:.3},{name:"button",file:"button.mp3",loop:!1},{name:"enter",file:"enter.mp3",loop:!1}]),this.playMusic()},t.prototype.changeActiveClassMenuButtons=function(t){var e=this;this.activeIndex="up"===t?0===this.activeIndex?this.menuButtons.length-1:this.activeIndex-1:this.activeIndex===this.menuButtons.length-1?0:this.activeIndex+1,this.audioManager.musicPlay("button"),this.menuButtons.forEach((function(t,n){var i=n===e.activeIndex?"add":"remove";t.classList[i](e.activeClass)}))},t.prototype.bindEvents=function(){var t=this;document.addEventListener("keydown",(function(e){switch(e.code){case"ArrowUp":if("menu"!==I.stage)return;t.changeActiveClassMenuButtons("up");break;case"ArrowDown":if("menu"!==I.stage)return;t.changeActiveClassMenuButtons("down");break;case"Enter":if("menu"!==I.stage)return;t.audioManager.musicStop("menu"),t.audioManager.musicPlay("enter"),v.publish("menu:enter",t.activeIndex)}}))},t}(),B=function(){function t(){this.subscribes()}return t.prototype.setBlocks=function(t,e){this.current=t,this.max=e},t.prototype.subscribes=function(){var t=this;v.subscribe("store:update",(function(e){if("menu"!==I.stage){var n=e.current,i=e.max;t.current.innerText=b.getFilledZeroText(n.toString()),t.max.innerText=b.getFilledZeroText(i.toString())}}))},t}(),k=function(){function t(t,e){this.activeIndex=0,this.activeClass=e,this.initAudioManager(t),this.bindEvents()}return t.prototype.setBlocks=function(t){this.textWrapper=t.textWrapper,this.scoreWrapper=t.scoreWrapper,this.buttons=t.buttons,this.buttons.length&&this.buttons[this.activeIndex].element.classList.add("is-active")},t.prototype.updateResult=function(t,e){this.textWrapper.innerText="win"===t?"YOU WIN!":"GAME OVER",this.scoreWrapper.innerText=b.getFilledZeroText(e.toString())},t.prototype.initAudioManager=function(t){this.audioManager=t,this.audioManager.addMusicList([{name:"button",file:"button.mp3",loop:!1},{name:"enter",file:"enter.mp3",loop:!1}])},t.prototype.changeActiveClassMenuButtons=function(t){var e=this;this.activeIndex="up"===t?0===this.activeIndex?this.buttons.length-1:this.activeIndex-1:this.activeIndex===this.buttons.length-1?0:this.activeIndex+1,this.audioManager.musicPlay("button"),this.buttons.forEach((function(t,n){var i=n===e.activeIndex?"add":"remove";t.element.classList[i](e.activeClass)}))},t.prototype.bindEvents=function(){var t=this;document.addEventListener("keydown",(function(e){switch(e.code){case"ArrowUp":"win"!==I.stage&&"lose"!==I.stage||t.changeActiveClassMenuButtons("up");break;case"ArrowDown":"win"!==I.stage&&"lose"!==I.stage||t.changeActiveClassMenuButtons("down");break;case"Enter":if("win"===I.stage||"lose"===I.stage){var n=t.buttons[t.activeIndex].eventName;t.audioManager.musicPlay("enter"),v.publish("game:".concat(n))}}}))},t}(),S=function(){function t(){}return t.prototype.setWrapper=function(t){this.wrapper=t},t.prototype.updateHelperList=function(t){this.list=t,this.showList()},t.prototype.setDefaultList=function(){this.list=[{key:"arrow up &uarr;",description:"Листать вверх"},{key:"arrow down &darr;",description:"Листать вниз"},{key:"enter",description:"Запустить игру"}],this.showList()},t.prototype.showList=function(){this.wrapper.innerHTML="";var t="";this.list.forEach((function(e){t+="<li>".concat(e.key,"</li><li>").concat(e.description,"</li>")})),this.wrapper.innerHTML=t},t}(),M=x,z=function(){function t(){this.visibilityClass="is-active"}return t.getInstance=function(){return t.instance||(t.instance=new t),t.instance},t.prototype.setBlocks=function(t){this.blocks=t},t.prototype.hideBlocks=function(t){var e=this;t.forEach((function(t){var n=e.blocks.find((function(e){return e.name===t}));n&&n.element.classList.remove(e.visibilityClass)}))},t.prototype.showBlocks=function(t){var e=this;t.forEach((function(t){var n=e.blocks.find((function(e){return e.name===t}));n&&n.element.classList.add(e.visibilityClass)}))},t}(),E=y.getInstance(),W=function(){function t(t){this.gamesList=t,this.getElements(),this.subscribes(),this.initUIManager(),this.initVisibilityManager()}return t.init=function(e){t.instance||(t.instance=new t(e))},t.prototype.updateStage=function(e){switch(t.stage=e,t.stage){case"menu":this.visibilityManager.hideBlocks(["game","status","score"]),this.visibilityManager.showBlocks(["menu"]);break;case"game":this.visibilityManager.hideBlocks(["menu","status"]),this.visibilityManager.showBlocks(["game","score"]);break;case"win":case"lose":this.visibilityManager.showBlocks(["status"])}},t.prototype.getElements=function(){this.gameWrapper=document.getElementById("game"),this.menuWrapper=document.getElementById("game-menu"),this.statusWrapper=document.getElementById("game-status"),this.scoreWrapper=document.getElementById("game-score"),this.scoreCurrentWrapper=document.getElementById("game-score-current"),this.scoreMaxWrapper=document.getElementById("game-score-max"),this.resultTextWrapper=document.getElementById("game-status-text"),this.resultScoreWrapper=document.getElementById("game-status-score"),this.resultButtonRestart=document.getElementById("game-status-restart"),this.resultButtonExit=document.getElementById("game-status-exit"),this.gameHelper=document.getElementById("game-helper")},t.prototype.initUIManager=function(){var t=this.gamesList.map((function(t){return t.name})),e=[{eventName:"restart",element:this.resultButtonRestart},{eventName:"exit",element:this.resultButtonExit}];this.uiManager=M.getInstance(),this.uiManager.setMenuItems(this.menuWrapper,t),this.uiManager.setScoreItems(this.scoreCurrentWrapper,this.scoreMaxWrapper),this.uiManager.setResultBlocks({textWrapper:this.resultTextWrapper,scoreWrapper:this.resultScoreWrapper,buttons:e}),this.uiManager.setHelperBlock(this.gameHelper),this.uiManager.setDefaultHelperList()},t.prototype.initVisibilityManager=function(){var t=[{name:"game",element:this.gameWrapper},{name:"menu",element:this.menuWrapper},{name:"status",element:this.statusWrapper},{name:"score",element:this.scoreWrapper}];this.visibilityManager=z.getInstance(),this.visibilityManager.setBlocks(t)},t.prototype.subscribes=function(){var t=this;E.subscribe("menu:enter",(function(e){var n;t.activeGame=t.gamesList[e],(null===(n=t.activeGame)||void 0===n?void 0:n.game)&&(t.updateStage("game"),t.activeGame.game.init(),t.activeGame.helper&&t.uiManager.updateHelperList(t.activeGame.helper))})),E.subscribe("game:lose",(function(e){t.updateStage("lose"),t.uiManager.setResult("lose",e)})),E.subscribe("game:win",(function(e){t.updateStage("win"),t.uiManager.setResult("win",e)})),E.subscribe("game:restart",(function(){t.updateStage("game"),t.activeGame.game.start()})),E.subscribe("game:exit",(function(){var e;(null===(e=t.activeGame)||void 0===e?void 0:e.game)&&t.activeGame.game.stop(),t.updateStage("menu"),t.uiManager.playMusic(),t.uiManager.setDefaultHelperList()}))},t.stage="menu",t}(),I=W,D=y.getInstance(),L=function(){function t(t){this.currentValue=0,this.maxValue=0,this.gameName=t,this.initStore(),this.publishStoreValue()}return t.prototype.initStore=function(){this.currentValue=0,this.maxValue=Number(localStorage.getItem("".concat(this.gameName,"-max")))||0},t.prototype.updateCurrentValue=function(t){this.currentValue=t,t>this.maxValue&&(this.maxValue=t,localStorage.setItem("".concat(this.gameName,"-max"),t.toString())),this.publishStoreValue()},t.prototype.publishStoreValue=function(){D.publish("store:update",{current:this.currentValue,max:this.maxValue})},t}(),Y=y.getInstance(),U=function(){function t(){this.score=0,this.gameOver=!1}return t.prototype.init=function(){this.initManagers(),this.initElements(),this.initEvents(),this.bindEvents(),this.start()},t.prototype.start=function(){this.setDefaultValues(),requestAnimationFrame(this.update.bind(this))},t.prototype.stop=function(){this.removeEvents(),this.gameOver=!0},t.prototype.update=function(){this.gameOver||requestAnimationFrame(this.update.bind(this))},t.prototype.changeStatusGame=function(t,e){this.audioManager.musicStop(e),this.gameOver=!0,"lose"===t?(this.audioManager.musicPlay("lose"),Y.publish("game:lose",this.score)):(this.audioManager.musicPlay("win"),Y.publish("game:win",this.score))},t.prototype.initManagers=function(t){this.audioManager=new m,t&&(this.storeManager=new L(t))},t.prototype.initElements=function(){this.canvas=document.getElementById("game"),this.context=this.canvas.getContext("2d")},t.prototype.initEvents=function(){this.eventsKeyDownFunction=this.eventsKeyDown.bind(this)},t.prototype.bindEvents=function(){document.addEventListener("keydown",this.eventsKeyDownFunction)},t.prototype.removeEvents=function(){document.removeEventListener("keydown",this.eventsKeyDownFunction)},t.prototype.eventsKeyDown=function(){},t.prototype.setDefaultValues=function(){this.gameOver=!1,this.score=0,this.storeManager.updateCurrentValue(this.score),this.context.clearRect(0,0,this.canvas.width,this.canvas.height)},t}(),O=function(){function t(t){this.x=200,this.y=200,this.dx=20,this.dy=0,this.cells=[],this.cellsCount=4,this.defaultColor="green",this.context=t.context,this.canvasSize=t.size,this.cellSize=t.grid,this.color=t.color||this.defaultColor,this.dx=this.cellSize,this.x=10*this.cellSize,this.y=10*this.cellSize}return t.prototype.setDefaultValues=function(){this.x=10*this.cellSize,this.y=10*this.cellSize,this.cells=[],this.cellsCount=4,this.dx=this.cellSize,this.dy=0},t.prototype.draw=function(){this.x+=this.dx,this.y+=this.dy,this.checkOutsideX(),this.checkOutsideY(),this.move(),this.drawSnake()},t.prototype.drawSnake=function(){var t=this;this.context.fillStyle=this.color,this.cells.forEach((function(e){t.context.fillRect(e.x,e.y,t.cellSize-1,t.cellSize-1)}))},t.prototype.addLengthSnake=function(){this.cellsCount++},t.prototype.changeColor=function(t){this.color=t},t.prototype.setDirection=function(t,e){this.dx=t,this.dy=e},t.prototype.getDirection=function(){return{dx:this.dx,dy:this.dy}},t.prototype.checkOutsideX=function(){this.x<0?this.x=this.canvasSize.width-this.cellSize:this.x>=this.canvasSize.width&&(this.x=0)},t.prototype.checkOutsideY=function(){this.y<0?this.y=this.canvasSize.height-this.cellSize:this.y>=this.canvasSize.height&&(this.y=0)},t.prototype.move=function(){this.cells.unshift({x:this.x,y:this.y}),this.cells.length>this.cellsCount&&this.cells.pop()},t}(),R=O,P=function(){function t(t){this.x=0,this.y=0,this.defaultColor="red",this.context=t.context,this.foodSize=t.grid,this.color=t.color||this.defaultColor,this.x=this.foodSize,this.y=this.foodSize,this.cellCountX=Math.floor(t.size.width/this.foodSize),this.cellCountY=Math.floor(t.size.height/this.foodSize)}return t.prototype.draw=function(){this.context.fillStyle=this.color,this.context.fillRect(this.x,this.y,this.foodSize-1,this.foodSize-1)},t.prototype.setRandomPosition=function(t){for(var e=b.getRandomInt(0,this.cellCountX)*this.foodSize,n=b.getRandomInt(0,this.cellCountY)*this.foodSize,i=0;i<t.length;i++)if(t[i].x===e&&t[i].y===n){this.setRandomPosition(t);break}this.x=e,this.y=n},t}(),_=P,X=(A=function(t,e){return A=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},A(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function n(){this.constructor=t}A(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}),V=function(){return V=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},V.apply(this,arguments)},T=y.getInstance(),G=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.grid=20,e.countAnimationFrame=0,e.slowing=20,e}return X(e,t),e.prototype.stop=function(){t.prototype.stop.call(this),this.audioManager.musicStop("snake")},e.prototype.update=function(){var e=this;t.prototype.update.call(this),++this.countAnimationFrame<this.slowing||(this.countAnimationFrame=0,this.draw(),this.snake.cells.forEach((function(t,n){t.x===e.food.x&&t.y===e.food.y&&(e.snake.addLengthSnake(),e.audioManager.musicPlay("food"),e.score++,e.storeManager.updateCurrentValue(e.score),e.isWin()?e.changeStatusGame("win"):e.food.setRandomPosition(e.snake.cells),e.slowing>8&&(e.slowing-=.1));for(var i=n+1;i<e.snake.cells.length;i++)t.x===e.snake.cells[i].x&&t.y===e.snake.cells[i].y&&(e.snake.changeColor("orange"),e.snake.drawSnake(),e.changeStatusGame("lose"))})))},e.prototype.changeStatusGame=function(e){t.prototype.changeStatusGame.call(this,e,"snake")},e.prototype.draw=function(){this.context.clearRect(0,0,this.canvas.width,this.canvas.height),this.food.draw(),this.snake.draw()},e.prototype.setDefaultValues=function(){t.prototype.setDefaultValues.call(this),this.countAnimationFrame=0,this.slowing=20,this.snake.changeColor("green"),this.snake.setDefaultValues(),this.food.setRandomPosition(this.snake.cells),this.audioManager.musicPlay("snake")},e.prototype.initManagers=function(){t.prototype.initManagers.call(this,"snake"),this.audioManager.addMusicList([{name:"snake",file:"snake.mp3",loop:!0,volume:.3},{name:"food",file:"food.mp3",loop:!1},{name:"lose",file:"lose.mp3",loop:!1},{name:"win",file:"win.mp3",loop:!1}])},e.prototype.initElements=function(){t.prototype.initElements.call(this),this.maxCells=Math.floor(this.canvas.width/this.grid)*Math.floor(this.canvas.height/this.grid);var e={context:this.context,grid:this.grid,color:"green",size:{width:this.canvas.width,height:this.canvas.height}};this.snake=new R(e);var n=V(V({},e),{color:"red"});this.food=new _(n)},e.prototype.eventsKeyDown=function(t){if("Escape"!==t.code){var e=this.snake.getDirection(),n=e.dx,i=e.dy;switch(t.code){case"ArrowLeft":0===n&&this.snake.setDirection(-this.grid,0);break;case"ArrowUp":0===i&&this.snake.setDirection(0,-this.grid);break;case"ArrowRight":0===n&&this.snake.setDirection(this.grid,0);break;case"ArrowDown":0===i&&this.snake.setDirection(0,this.grid)}}else T.publish("game:exit")},e.prototype.isWin=function(){return this.snake.cells.length>=this.maxCells},e}(U),Q=G,j=function(){function t(t){this.x=175,this.y=409,this.maxSpeed=6,this.dx=0,this.width=90,this.height=16,this.segmentCount=8,this.segmentsSizes=[],this.defaultColor="blue",this.context=t.context,this.canvasWidth=t.canvasWidth,this.color=(null==t?void 0:t.color)||this.defaultColor;for(var e=this.width/this.segmentCount,n=Math.floor(this.segmentCount/2),i=1;i<=n;i++)this.segmentsSizes.push(e*i)}return t.prototype.setDefaultValues=function(){this.x=175,this.y=409},t.prototype.draw=function(){this.update(),this.context.fillStyle="blue",this.context.fillRect(this.x,this.y,this.width,this.height)},t.prototype.update=function(){this.isOutside()||(this.x+=this.dx)},t.prototype.changeDirection=function(t){this.dx=this.maxSpeed*t},t.prototype.isOutside=function(){var t=this.dx>0&&this.x+this.width>=this.canvasWidth,e=this.dx<0&&this.x<=0;return t||e},t}(),F=j,N=function(){function t(t){this.x=220,this.y=399,this.radius=10,this.minVelocityX=1,this.maxVelocityX=4,this.velocityX=1,this.velocityY=2,this.dx=0,this.dy=0,this.defaultColor="green",this.context=t.context,this.callbackLose=t.callbackLose,this.color=(null==t?void 0:t.color)||this.defaultColor,this.canvasSize=t.canvasSize}return t.prototype.setDefaultValues=function(){this.x=220,this.y=399,this.velocityX=1,this.velocityY=2,this.dx=0,this.dy=0},t.prototype.draw=function(){this.context.fillStyle=this.color,this.context.beginPath(),this.context.arc(this.x,this.y,this.radius,0,2*Math.PI),this.context.closePath(),this.context.fill()},t.prototype.checkCollision=function(t){var e=this.getNextPosition(),n=e.x,i=e.y;return n<t.x+t.width&&n+this.radius>t.x&&i<t.y+t.height&&i+this.radius>t.y},t.prototype.setDirectionX=function(t){this.dx=this.velocityX*t},t.prototype.setDirectionY=function(t){this.dy=this.velocityY*t},t.prototype.revertDirectionY=function(){this.dy=-this.dy},t.prototype.checkVelocityX=function(t){var e=this.getNextPosition().x,n=t.x+t.width/2,i=e>n?1:-1,o=Math.abs(e-n),r=t.segmentsSizes.length;if(o<=t.segmentsSizes[0])return this.velocityX=this.minVelocityX,void this.setDirectionX(i);if(o>t.segmentsSizes[r-2]&&o<=t.segmentsSizes[r-1])return this.velocityX=this.maxVelocityX,void this.setDirectionX(i);for(var s=(this.maxVelocityX-this.minVelocityX)/(r-1),a=1;a<r-1;a++)if(o>t.segmentsSizes[a-1]&&o<=t.segmentsSizes[a]){this.velocityX=this.minVelocityX+s*a,this.setDirectionX(i);break}},t.prototype.move=function(){this.checkOutside(),this.x+=this.dx,this.y+=this.dy},t.prototype.followForPlatform=function(t,e){this.x=t+e/2},t.prototype.checkOutside=function(){var t=this.getNextPosition(),e=t.x,n=t.y;e<0?this.setDirectionX(1):e+this.radius>440&&this.setDirectionX(-1),n<0?this.setDirectionY(1):n+this.radius>440&&this.callbackLose("lose")},t.prototype.getNextPosition=function(){return{x:this.x+this.dx,y:this.y+this.dy}},t}(),Z=N,H=function(){function t(t){this.items=[],this.width=60,this.height=16,this.indent=10,this.columns=6,this.rows=3,this.offsetWindow=15,this.context=t}return t.prototype.draw=function(){var t=this;this.items.forEach((function(e){e.lives<1||(t.context.fillStyle=e.color,t.context.fillRect(e.x,e.y,e.width,e.height))}))},t.prototype.create=function(t){switch(this.items=[],t){case 1:default:this.createFirstLevel();break;case 2:this.createSecondLevel()}},t.prototype.createFirstLevel=function(){var t=["red","orange","yellow","yellow","orange","red"];this.rows=3;for(var e=0;e<this.rows;e++)for(var n=0;n<this.columns;n++)this.items.push({x:(this.width+this.indent)*n+this.offsetWindow,y:(this.height+this.indent)*e+this.offsetWindow,width:this.width,height:this.height,color:t[n],lives:1})},t.prototype.createSecondLevel=function(){var t=["red","orange","yellow","gray"],e=[1,4];this.rows=4;for(var n=0;n<this.rows;n++)for(var i=0;i<this.columns;i++)e.includes(i)||this.items.push({x:(this.width+this.indent)*i+this.offsetWindow,y:(this.height+this.indent)*n+this.offsetWindow,width:this.width,height:this.height,color:t[n],lives:3===n?3:1})},t}(),K=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),q=y.getInstance(),J=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.isBallOnPlatform=!0,e.currentLevel=1,e.allLevelCount=2,e}return K(e,t),e.prototype.stop=function(){t.prototype.stop.call(this),this.audioManager.musicStop("ark")},e.prototype.changeStatusGame=function(e){t.prototype.changeStatusGame.call(this,e,"ark")},e.prototype.update=function(){t.prototype.update.call(this),this.isBallOnPlatform?this.ball.followForPlatform(this.platform.x,this.platform.width):(this.ball.move(),this.checkCollisionBlocks(),this.checkCollisionPlatform()),this.draw()},e.prototype.draw=function(){this.context.clearRect(0,0,this.canvas.width,this.canvas.height),this.platform.draw(),this.ball.draw(),this.blocks.draw()},e.prototype.setDefaultValues=function(){t.prototype.setDefaultValues.call(this),this.setDefaultPositions(),this.currentLevel=1,this.audioManager.musicPlay("ark")},e.prototype.initManagers=function(){t.prototype.initManagers.call(this,"arkanoid"),this.audioManager.addMusicList([{name:"ark",file:"ark.mp3",loop:!0,volume:.3},{name:"food",file:"food.mp3",loop:!1},{name:"lose",file:"lose.mp3",loop:!1},{name:"win",file:"win.mp3",loop:!1}])},e.prototype.initElements=function(){t.prototype.initElements.call(this);var e={context:this.context,canvasWidth:this.canvas.width},n={context:this.context,callbackLose:this.changeStatusGame.bind(this),canvasSize:{width:this.canvas.width,height:this.canvas.height}};this.platform=new F(e),this.ball=new Z(n),this.blocks=new H(this.context)},e.prototype.initEvents=function(){t.prototype.initEvents.call(this),this.eventsUpFunction=this.eventsKeyUp.bind(this)},e.prototype.bindEvents=function(){t.prototype.bindEvents.call(this),document.addEventListener("keyup",this.eventsUpFunction)},e.prototype.removeEvents=function(){t.prototype.removeEvents.call(this),document.removeEventListener("keyup",this.eventsUpFunction)},e.prototype.eventsKeyDown=function(t){if("Escape"!==t.code)switch(t.code){case"ArrowLeft":this.platform.changeDirection(-1);break;case"ArrowRight":this.platform.changeDirection(1);break;case"Space":if(!this.isBallOnPlatform)return;this.isBallOnPlatform=!1,this.ball.setDirectionY(-1),this.ball.setDirectionX(-1)}else q.publish("game:exit")},e.prototype.eventsKeyUp=function(t){"ArrowLeft"!==t.code&&"ArrowRight"!==t.code||this.platform.changeDirection(0)},e.prototype.setDefaultPositions=function(){this.isBallOnPlatform=!0,this.blocks.create(this.currentLevel),this.platform.setDefaultValues(),this.ball.setDefaultValues()},e.prototype.checkCollisionBlocks=function(){var t=this;this.blocks.items.forEach((function(e){e.lives<1||t.ball.checkCollision(e)&&(t.audioManager.musicPlay("food"),t.ball.revertDirectionY(),e.lives--,e.lives<=0&&(t.score++,t.storeManager.updateCurrentValue(t.score),t.checkWin()))}))},e.prototype.checkCollisionPlatform=function(){this.ball.checkCollision(this.platform)&&(this.audioManager.musicPlay("food"),this.ball.checkVelocityX(this.platform),this.ball.setDirectionY(-1))},e.prototype.checkWin=function(){this.blocks.items.filter((function(t){return t.lives>0})).length||this.nextLevel()},e.prototype.nextLevel=function(){this.currentLevel>=this.allLevelCount?this.changeStatusGame("win"):(this.currentLevel++,this.setDefaultPositions())},e}(U),$=J,tt=function(){function t(t){this.newX=0,this.newY=0,this.x=0,this.y=0,this.speed=.4,this.colors={2:"#a7d3fa",4:"#82c2fa",8:"#ffa500",16:"#ff8400",32:"#e36200",64:"#bf0000",128:"#e8dd4a",256:"#bf8104",512:"#ff009d",1024:"#fc0061",2048:"#fa0000"},this.isAnimated=!1,this.context=t.context,this.id=t.id,this.x=t.x,this.y=t.y,this.width=t.width,this.height=t.height,this.padding=t.padding}return t.prototype.changePosition=function(t){this.newX=t.x,this.newY=t.y,this.isAnimated=!0},t.prototype.draw=function(t){if(t){this.animateTile(),this.context.fillStyle=this.colors[t];var e,n=this.width*this.x+this.padding*this.x+this.padding,i=this.height*this.y+this.padding*this.y+this.padding;switch(this.context.fillRect(n,i,this.width,this.height),this.context.fillStyle="white",this.context.textBaseline="top",this.context.font="52px Pixeboy",!0){case t<10:e=40;break;case t<100:e=30;break;case t<1e3:e=18;break;default:e=6}this.context.fillText(t.toString(),n+e,i+15)}},t.prototype.animateTile=function(){if(this.isAnimated){switch(!0){case this.x<this.newX:this.x+=this.speed,this.x>this.newX&&(this.x=this.newX);break;case this.x>this.newX:this.x-=this.speed,this.x<this.newX&&(this.x=this.newX);break;case this.y<this.newY:this.y+=this.speed,this.y>this.newY&&(this.y=this.newY);break;case this.y>this.newY:this.y-=this.speed,this.y<this.newY&&(this.y=this.newY)}if(this.x===this.newX&&this.y===this.newY)return void(this.isAnimated=!1)}},t}(),et=tt,nt=function(){function t(t){this.defaultColor="#abaeb2",this.context=t.context,this.width=t.width,this.height=t.height,this.size=t.size,this.padding=t.padding,this.color=(null==t?void 0:t.color)||this.defaultColor}return t.prototype.draw=function(){for(var t=0;t<this.size;t++)for(var e=0;e<this.size;e++){this.context.fillStyle=this.color;var n=this.width*e+this.padding*e+this.padding,i=this.height*t+this.padding*t+this.padding;this.context.fillRect(n,i,this.width,this.height)}},t}(),it=nt,ot=function(){var t=function(e,n){return t=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)Object.prototype.hasOwnProperty.call(e,n)&&(t[n]=e[n])},t(e,n)};return function(e,n){if("function"!=typeof n&&null!==n)throw new TypeError("Class extends value "+String(n)+" is not a constructor or null");function i(){this.constructor=e}t(e,n),e.prototype=null===n?Object.create(n):(i.prototype=n.prototype,new i)}}(),rt=function(){return rt=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var o in e=arguments[n])Object.prototype.hasOwnProperty.call(e,o)&&(t[o]=e[o]);return t},rt.apply(this,arguments)},st=y.getInstance(),at=function(t){function e(){var e=null!==t&&t.apply(this,arguments)||this;return e.tiles=[],e.size=4,e.board=[],e.isAnimated=!1,e.isShowNewCell=!1,e.tileWidth=105,e.tileHeight=105,e.tilePadding=4,e}return ot(e,t),e.prototype.stop=function(){t.prototype.stop.call(this),this.audioManager.musicStop("snake")},e.prototype.update=function(){t.prototype.update.call(this),this.draw()},e.prototype.draw=function(){this.context.clearRect(0,0,this.canvas.width,this.canvas.height),this.background.draw();for(var t=this.board.flat(),e=function(e){var i=n.tiles.find((function(n){return n.id===t[e].id}));t[e].value&&(i.x===t[e].x&&i.y===t[e].y||i.changePosition({x:t[e].x,y:t[e].y})),i.draw(t[e].value)},n=this,i=0;i<t.length;i++)e(i);var o=this.tiles.find((function(t){return t.isAnimated}));this.isAnimated=!!o},e.prototype.initManagers=function(){t.prototype.initManagers.call(this,"2048"),this.audioManager.addMusicList([{name:"snake",file:"snake.mp3",loop:!0,volume:.3},{name:"food",file:"food.mp3",loop:!1},{name:"lose",file:"lose.mp3",loop:!1}])},e.prototype.initElements=function(){t.prototype.initElements.call(this);var e={context:this.context,width:this.tileWidth,height:this.tileHeight,padding:this.tilePadding,size:this.size};this.background=new it(e)},e.prototype.setDefaultValues=function(){t.prototype.setDefaultValues.call(this),this.board=this.getEmptyBoard(),this.generateRandom(),this.generateRandom(),this.tiles=[],this.fillTilesList(),this.audioManager.musicPlay("snake")},e.prototype.changeStatusGame=function(e){t.prototype.changeStatusGame.call(this,e,"ark")},e.prototype.eventsKeyDown=function(t){if("Escape"===t.code&&st.publish("game:exit"),!(this.isAnimated||this.gameOver||this.isShowNewCell))switch(t.code){case"ArrowLeft":this.actionAfterMove(this.moveLeft(this.board));break;case"ArrowUp":this.actionAfterMove(this.moveUp(this.board));break;case"ArrowRight":this.actionAfterMove(this.moveRight(this.board));break;case"ArrowDown":this.actionAfterMove(this.moveDown(this.board))}},e.prototype.actionAfterMove=function(t){var e=this;this.hasDiff(this.board,t)&&(this.board=t,this.addScore(this.board),this.isWin()?this.changeStatusGame("win"):(this.isShowNewCell=!0,setTimeout((function(){e.generateRandom(),e.isShowNewCell=!1,e.isLose()&&e.changeStatusGame("lose")}),150)))},e.prototype.isLose=function(){return!(this.hasDiff(this.board,this.moveLeft(this.board))||this.hasDiff(this.board,this.moveRight(this.board))||this.hasDiff(this.board,this.moveUp(this.board))||this.hasDiff(this.board,this.moveDown(this.board)))},e.prototype.hasDiff=function(t,e){for(var n=0;n<this.size;n++)for(var i=0;i<this.size;i++)if(t[n][i].value!==e[n][i].value)return!0;return!1},e.prototype.moveLeft=function(t){return this.move(t)},e.prototype.moveRight=function(t){var e=this.reverse(t),n=this.moveLeft(e);return this.reverse(n)},e.prototype.moveUp=function(t){var e=this.rotate90deg(t,-1),n=this.moveLeft(e);return this.rotate90deg(n,1)},e.prototype.moveDown=function(t){var e=this.rotate90deg(t,1),n=this.moveLeft(e);return this.rotate90deg(n,-1)},e.prototype.getEmptyBoard=function(){for(var t=[],e=0,n=0;n<this.size;n++){for(var i=[],o=0;o<this.size;o++)i.push({value:0,isStacked:!1,canMove:!0,x:o,y:n,id:e}),e++;t.push(i)}return t},e.prototype.fillTilesList=function(){for(var t={context:this.context,width:this.tileWidth,height:this.tileHeight,padding:this.tilePadding},e=0,n=0;n<this.size;n++)for(var i=0;i<this.size;i++){var o=new et(rt(rt({},t),{id:e,x:i,y:n}));this.tiles.push(o),e++}},e.prototype.hasValue=function(t){for(var e=0;e<this.size;e++)for(var n=0;n<this.size;n++)if(this.board[e][n].value===t)return!0;return!1},e.prototype.isWin=function(){return this.hasValue(2048)},e.prototype.isFull=function(){return!this.hasValue(0)},e.prototype.generateRandom=function(){var t=this;if(!this.isFull())for(var e=[2,4],n=e[Math.floor(Math.random()*e.length)],i=!1,o=function(){var e=Math.floor(Math.random()*r.size),o=Math.floor(Math.random()*r.size);if(0===r.board[e][o].value){r.board[e][o].value=n,i=!0;var s=r.tiles.find((function(n){return n.id===t.board[e][o].id}));s&&(s.x=r.board[e][o].x,s.y=r.board[e][o].y),r.score+=n,r.storeManager.updateCurrentValue(r.score)}},r=this;!i;)o()},e.mergeRow=function(t){for(var n=0;n<t.length;n++)if(0!==t[n].value)if(0!==n)if(0!==t[n-1].value)t[n-1].value!==t[n].value||t[n-1].isStacked||t[n].isStacked?t[n].canMove=!1:(t[n-1].value=2*t[n-1].value,t[n].value=0,t[n-1].isStacked=!0,i=t[n].id,t[n].id=t[n-1].id,t[n-1].id=i);else{t[n-1].value=t[n].value,t[n].value=0;var i=t[n].id;t[n].id=t[n-1].id,t[n-1].id=i}else t[n].canMove=!1;return t.filter((function(t){return 0===t.value||t.isStacked||!t.canMove})).length===t.length?t:e.mergeRow(t)},e.prototype.move=function(t){for(var n=JSON.parse(JSON.stringify(t)),i=0;i<this.size;i++)n[i].forEach((function(t){t.canMove=!0,t.isStacked=!1})),n[i]=e.mergeRow(n[i]);return n},e.prototype.reverse=function(t){return t.map((function(t){for(var e=[],n=t.length,i=0;i<n;i++)e[i]=t[n-1-i];return e}))},e.prototype.rotate90deg=function(t,e){return e>0?t[0].map((function(e,n){return t.map((function(t){return t[n]})).reverse()})):t[0].map((function(e,n){return t.map((function(t){return t[t.length-1-n]}))}))},e.prototype.addScore=function(t){var e=t.reduce((function(t,e){return e.reduce((function(t,e){return e.isStacked&&(t+=e.value),t}),0)}),0);e>0&&(this.score+=e,this.storeManager.updateCurrentValue(this.score))},e}(U),ct=at,ht=new Q,lt=new $,ut=[{name:"snake",game:ht,helper:[{key:"arrow right &rarr;",description:"Поворот вправо"},{key:"arrow left &larr;",description:"Поворот влево"},{key:"arrow up &uarr;",description:"Поворот вверх"},{key:"arrow down &darr;",description:"Поворот вниз"},{key:"esc",description:"Выход"}]},{name:"2048",game:new ct,helper:[{key:"arrow right &rarr;",description:"Сдвиг вправо"},{key:"arrow left &larr;",description:"Сдвиг влево"},{key:"arrow up &uarr;",description:"Сдвиг вверх"},{key:"arrow down &darr;",description:"Сдвиг вниз"},{key:"esc",description:"Выход"}]},{name:"arkanoid",game:lt,helper:[{key:"arrow right &rarr;",description:"Двигаться вправо"},{key:"arrow left &larr;",description:"Двигаться влево"},{key:"space",description:"Запуск шарика"},{key:"esc",description:"Выход"}]}];window.addEventListener("load",(function(){I.init(ut)}))}()}();
//# sourceMappingURL=main.d1adfe9075de632690b4.js.map